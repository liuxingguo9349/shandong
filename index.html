<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§‘æŠ€å¼ºçœÂ·åˆ›æ–°çªç ´ - 2025å±±ä¸œçœæ–°åª’ä½“äº§å“ä¸»é¢˜åˆ›ä½œ</title>
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ GSAP åŠ¨ç”»åº“ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <!-- å¼•å…¥ Chart.js å›¾è¡¨åº“ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- å¼•å…¥ Swiper.js è½®æ’­åº“ -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <!-- å¼•å…¥ä¸­æ–‡å­—ä½“ -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&display=swap"
        rel="stylesheet">

    <!-- çŸ¥è¯†é—®ç­”é¢˜åº“ (å·²æ¸…ç©ºï¼Œè¯·åœ¨æ­¤å¤„æ·»åŠ æ‚¨çš„é—®é¢˜) -->
    <script type="application/json" id="quizData">
    [
        
        <!-- 
            è¯·åœ¨è¿™é‡Œæ·»åŠ ä½ çš„ç§‘æŠ€ä¸»é¢˜é—®é¢˜ã€‚
            æ ¼å¼ç¤ºä¾‹:
            {
                "question": "ä¸­å›½(å±±ä¸œ)è‡ªç”±è´¸æ˜“è¯•éªŒåŒºä¸åŒ…å«ä»¥ä¸‹å“ªä¸ªç‰‡åŒºï¼Ÿ",
                "options": ["æµå—ç‰‡åŒº", "é’å²›ç‰‡åŒº", "çƒŸå°ç‰‡åŒº", "å¨æµ·ç‰‡åŒº"],
                "correct": 3
            } 
            æ³¨æ„ï¼šæ¯ä¸ªé—®é¢˜å¯¹è±¡ä¹‹é—´ç”¨é€—å·(,)éš”å¼€ï¼Œæœ€åä¸€ä¸ªé—®é¢˜å¯¹è±¡åé¢ä¸è¦åŠ é€—å·ã€‚
        -->

    ]
    </script>

    <script>
        // æš—è‰²æ¨¡å¼æ”¯æŒ
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>

    <style>
        * {
            font-family: 'Noto Sans SC', sans-serif;
        }

        /* ä¸»è‰²å½©ç³»ç»Ÿ - ç§‘æŠ€è“ä¸ºä¸» */
        .shandong-bg {
            background: linear-gradient(135deg, #0f172a 0%, #1e40af 50%, #4f46e5 100%);
            position: relative;
        }

        .shandong-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="1" fill="white" opacity="0.1"/><circle cx="60" cy="40" r="0.5" fill="white" opacity="0.1"/><path d="M10 80 L30 60 L50 80" stroke="white" stroke-width="0.2" fill="none" opacity="0.1"/><path d="M70 20 L80 30 L90 10" stroke="white" stroke-width="0.2" fill="none" opacity="0.1"/></svg>');
            background-size: 150px 150px;
        }

        .shandong-red {
            background: #4f46e5;
        }
        /* åŠ¨ç”»ä¼˜åŒ– */
        .floating { animation: float 8s ease-in-out infinite; }
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-20px) rotate(10deg); }
            66% { transform: translateY(-5px) rotate(-8deg); }
        }
        /* åŸå¸‚ç”»å»Šå¢å¼º */
        .city-swiper { width: 100%; height: 85vh; border-radius: 16px; overflow: hidden; }
        .swiper-slide { position: relative; background-size: cover; background-position: center; display: flex; align-items: center; justify-content: center; }
        .swiper-slide::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(45deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.4) 50%, rgba(0, 0, 0, 0.8) 100%); }
        .swiper-button-next, .swiper-button-prev { color: #ffffff; background: rgba(0, 0, 0, 0.3); width: 50px; height: 50px; border-radius: 50%; backdrop-filter: blur(10px); }
        .swiper-pagination-bullet { background: rgba(255, 255, 255, 0.5); width: 12px; height: 12px; }
        .swiper-pagination-bullet-active { background: #ffffff; transform: scale(1.2); }
        .slide-content { text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8); animation: slideInUp 0.8s ease-out; }
        @keyframes slideInUp { from { opacity: 0; transform: translateY(50px); } to { opacity: 1; transform: translateY(0); } }
        /* åŸå¸‚è¯¦æƒ…æŒ‰é’® */
        .city-detail-btn { background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); transition: all 0.3s ease; }
        .city-detail-btn:hover { background: rgba(255, 255, 255, 0.3); transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); }
        /* é—®ç­”ç•Œé¢å¢å¼º */
        .quiz-container { background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(79, 70, 229, 0.1) 100%); border-radius: 24px; border: 2px solid rgba(139, 92, 246, 0.2); }
        .quiz-option { transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); border-radius: 12px; position: relative; overflow: hidden; }
        .quiz-option:hover { background: rgba(99, 102, 241, 0.1); transform: translateX(8px) scale(1.02); border-color: rgba(139, 92, 246, 0.4); }
        .progress-ring { transform: rotate(-90deg); }
        .progress-ring-circle { transition: stroke-dashoffset 0.8s ease-in-out; }
        /* æ•°æ®å¡ç‰‡ä¼˜åŒ– */
        .stat-card { background: #ffffff; border: 1px solid #e5e7eb; transition: all 0.3s ease; position: relative; overflow: hidden; }
        .stat-card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1); border-color: #3b82f6; }
        .dark .stat-card { background: #1f2937; border-color: #374151; }
        .dark .stat-card:hover { border-color: #6366f1; }
        /* å¯¼èˆªå¢å¼º */
        .nav-btn { position: relative; transition: all 0.3s ease; }
        .nav-btn::after { content: ''; position: absolute; bottom: -4px; left: 50%; width: 0; height: 2px; background: #6366f1; transition: all 0.3s ease; transform: translateX(-50%); }
        .nav-btn:hover::after { width: 100%; }
        /* æ»šåŠ¨æ¡ç¾åŒ– */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1); }
        ::-webkit-scrollbar-thumb { background: #3b82f6; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #2563eb; }
        /* æ¨¡å—å¡ç‰‡æ ·å¼ */
        .module-card { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.2); transition: all 0.3s ease; }
        .module-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1); background: rgba(255, 255, 255, 0.15); }
        .dark .module-card { background: rgba(31, 41, 55, 0.5); border-color: rgba(75, 85, 99, 0.4); }
        .dark .module-card:hover { background: rgba(31, 41, 55, 0.7); }
    </style>
</head>

<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
    <!-- å¯¼èˆªæ  -->
    <nav
        class="fixed top-0 w-full z-50 bg-white/90 dark:bg-gray-900/90 backdrop-blur-xl shadow-lg border-b border-gray-200/50 dark:border-gray-700/50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 shandong-red rounded-xl flex items-center justify-center shadow-lg">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                           <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                    </div>
                    <div>
                        <span class="text-xl font-bold text-gray-900 dark:text-white">ç§‘æŠ€å¼ºçœÂ·åˆ›æ–°çªç ´</span>
                        <div class="text-xs text-gray-500 dark:text-gray-400">2025ä¸»é¢˜åˆ›ä½œ</div>
                    </div>
                </div>
                <div class="hidden md:flex space-x-8">
                    <button onclick="showSection('home')"
                        class="nav-btn text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 font-medium px-2 py-1">åˆ›æ–°æ€»è§ˆ</button>
                    <button onclick="showSection('map')"
                        class="nav-btn text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 font-medium px-2 py-1">åŸå¸‚æ¡ˆä¾‹</button>
                    <button onclick="showSection('quiz')"
                        class="nav-btn text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 font-medium px-2 py-1">çŸ¥è¯†é—®ç­”</button>
                    <button onclick="showSection('stats')"
                        class="nav-btn text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 font-medium px-2 py-1">æ•°æ®æ´å¯Ÿ</button>
                </div>
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()"
                        class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 p-2 rounded-lg">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobileMenu"
            class="hidden md:hidden bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border-t border-gray-200/50 dark:border-gray-700/50">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <button onclick="showSection('home'); toggleMobileMenu();" class="block w-full text-left px-3 py-2 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800">åˆ›æ–°æ€»è§ˆ</button>
                <button onclick="showSection('map'); toggleMobileMenu();" class="block w-full text-left px-3 py-2 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800">åŸå¸‚æ¡ˆä¾‹</button>
                <button onclick="showSection('quiz'); toggleMobileMenu();" class="block w-full text-left px-3 py-2 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800">çŸ¥è¯†é—®ç­”</button>
                <button onclick="showSection('stats'); toggleMobileMenu();" class="block w-full text-left px-3 py-2 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800">æ•°æ®æ´å¯Ÿ</button>
            </div>
        </div>
    </nav>

    <!-- ä¸»é¡µé¢ (åˆ›æ–°æ€»è§ˆ) -->
    <div id="home" class="section pt-16 min-h-screen shandong-bg relative overflow-hidden">
        <div class="absolute inset-0 z-0">
             <div class="floating absolute top-20 left-10 w-24 h-24 bg-white/10 rounded-full backdrop-blur-sm"></div>
             <div class="floating absolute top-40 right-20 w-20 h-20 bg-blue-400/20 rounded-full backdrop-blur-sm" style="animation-delay: 2s;"></div>
             <div class="floating absolute bottom-32 left-1/4 w-16 h-16 bg-purple-500/15 rounded-full backdrop-blur-sm" style="animation-delay: 4s;"></div>
        </div>
        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="text-center mb-16">
                <h1 class="text-5xl md:text-7xl font-bold text-white mb-6 leading-tight">ç§‘æŠ€å¼ºçœ <span class="text-cyan-400 block md:inline">åˆ›æ–°çªç ´</span></h1>
                <p class="text-xl md:text-2xl text-white/90 mb-8 max-w-4xl mx-auto leading-relaxed">èšç„¦å±±ä¸œå»ºè®¾åˆ›æ–°å‹çœä»½æˆ˜ç•¥ï¼Œå±•ç°ç§‘æŠ€åˆ›æ–°é©±åŠ¨é«˜è´¨é‡å‘å±•çš„æ¾æ¹ƒåŠ¨åŠ›</p>
                <div class="text-lg text-white/80 max-w-5xl mx-auto leading-relaxed">
                    <p>å±±ä¸œæ­£åŠ é€Ÿå»ºè®¾é«˜æ°´å¹³åˆ›æ–°å‹çœä»½ï¼Œä»¥ç§‘æŠ€åˆ›æ–°å¡‘é€ å‘å±•æ–°ä¼˜åŠ¿ã€‚ä»å‰æ²¿çš„é‡å­ç§‘æŠ€ã€æ·±é‚ƒçš„æµ·æ´‹æ¢ç´¢ï¼Œåˆ°èµ‹èƒ½åƒè¡Œç™¾ä¸šçš„å·¥ä¸šäº’è”ç½‘ï¼Œå†åˆ°æœåŠ¡å›½è®¡æ°‘ç”Ÿçš„è¶…çº§è®¡ç®—ï¼Œé½é²å¤§åœ°æ­£æˆä¸ºå…¨å›½é‡è¦çš„ç§‘æŠ€åˆ›æ–°ç­–æºåœ°å’Œæˆæœè½¬åŒ–é›†èšåœ°ã€‚</p>
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16 text-white">
                <div class="module-card rounded-2xl p-8 text-center group">
                    <div class="w-20 h-20 bg-blue-500/50 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300"><svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M4 17v4m-2-2h4m11-11v4m-2-2h4M16 17v4m-2-2h4"></path></svg></div>
                    <h3 class="text-2xl font-bold mb-3">æ ¸å¿ƒæŠ€æœ¯æ”»åš</h3>
                    <p class="text-white/80 text-lg leading-relaxed">åœ¨é‡å­ç§‘æŠ€ã€æµ·æ´‹è£…å¤‡ã€é«˜ç«¯èŠ¯ç‰‡ç­‰é¢†åŸŸæŒç»­çªç ´ï¼ŒæŠ¢å æœªæ¥äº§ä¸šåˆ¶é«˜ç‚¹ã€‚</p>
                </div>
                <div class="module-card rounded-2xl p-8 text-center group">
                    <div class="w-20 h-20 bg-green-500/50 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300"><svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2 1M4 7l2-1M4 7v2.5M12 21v-2.5M12 18.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"></path></svg></div>
                    <h3 class="text-2xl font-bold mb-3">äº§ä¸šæ•°å­—åŒ–</h3>
                    <p class="text-white/80 text-lg leading-relaxed">ä»¥å·¥ä¸šäº’è”ç½‘èµ‹èƒ½ä¼ ç»Ÿäº§ä¸šè½¬å‹å‡çº§ï¼Œæ‰“é€ æ™ºèƒ½åˆ¶é€ ã€æ™ºæ…§å†œä¸šæ–°æ¨¡å¼ã€‚</p>
                </div>
                <div class="module-card rounded-2xl p-8 text-center group">
                    <div class="w-20 h-20 bg-purple-500/50 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300"><svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg></div>
                    <h3 class="text-2xl font-bold mb-3">ç§‘åˆ›å¹³å°å»ºè®¾</h3>
                    <p class="text-white/80 text-lg leading-relaxed">å»ºè®¾å›½å®¶å®éªŒå®¤ã€å¤§ç§‘å­¦è£…ç½®ã€äº§ä¸šç ”ç©¶é™¢ç­‰é«˜èƒ½çº§å¹³å°ï¼Œé›†èšå…¨çƒåˆ›æ–°èµ„æºã€‚</p>
                </div>
                <div class="module-card rounded-2xl p-8 text-center group">
                    <div class="w-20 h-20 bg-orange-500/50 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300"><svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div>
                    <h3 class="text-2xl font-bold mb-3">â€œä¸“ç²¾ç‰¹æ–°â€åŸ¹è‚²</h3>
                    <p class="text-white/80 text-lg leading-relaxed">åŸ¹è‚²ä¸€å¤§æ‰¹æŒæ¡ç‹¬é—¨ç»æŠ€çš„â€œéšå½¢å† å†›â€ï¼Œæ„å»ºèµ·å¼ºå¤§çš„äº§ä¸šåˆ›æ–°ç”Ÿæ€ã€‚</p>
                </div>
            </div>
            <div class="bg-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20">
                <h2 class="text-3xl font-bold text-white text-center mb-8">å±±ä¸œåˆ›æ–°åŠ›äº®ç‚¹</h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center text-white">
                    <div><div class="text-3xl md:text-4xl font-bold mb-2">30000+</div><div class="text-lg opacity-90">é«˜æ–°æŠ€æœ¯ä¼ä¸š</div><div class="text-sm opacity-70">2024å¹´</div></div>
                    <div><div class="text-3xl md:text-4xl font-bold mb-2">TOP 3</div><div class="text-lg opacity-90">å›½å®¶çº§â€œç¯å¡”å·¥å‚â€</div><div class="text-sm opacity-70">å…¨å›½å‰åˆ—</div></div>
                    <div><div class="text-3xl md:text-4xl font-bold mb-2">NO. 1</div><div class="text-lg opacity-90">æµ·æ´‹ç§‘æŠ€å®åŠ›</div><div class="text-sm opacity-70">å…¨å›½é¢†å…ˆ</div></div>
                    <div><div class="text-3xl md:text-4xl font-bold mb-2">1500+</div><div class="text-lg opacity-90">çœçº§åˆ›æ–°å¹³å°</div><div class="text-sm opacity-70">äº§å­¦ç ”æ·±åº¦èåˆ</div></div>
                </div>
            </div>
        </div>
    </div>

    <!-- åŸå¸‚ç”»å»Š (åŸå¸‚æ¡ˆä¾‹) -->
    <div id="map" class="section hidden pt-16 bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900">
        <div class="max-w-screen-xl mx-auto py-16 px-4">
            <div class="text-center mb-16">
                <h2 class="text-5xl font-bold text-white mb-4">ç§‘æŠ€åˆ›æ–°åŸå¸‚å·¡ç¤¼</h2>
                <p class="text-xl text-gray-300 max-w-2xl mx-auto">æ¢ç´¢å±±ä¸œ16å¸‚çš„åˆ›æ–°åŸºå› ï¼Œè§è¯ç§‘æŠ€å¦‚ä½•é‡å¡‘åŸå¸‚æœªæ¥</p>
            </div>
            <div class="swiper city-swiper shadow-2xl">
                <div class="swiper-wrapper"></div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </div>
    </div>

    <!-- çŸ¥è¯†é—®ç­” (å·²æ¢å¤) -->
    <div id="quiz"
        class="section hidden pt-24 min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 dark:from-gray-800 dark:via-purple-900 dark:to-gray-900">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
            <div class="text-center mb-16">
                <h2 class="text-5xl font-bold text-gray-900 dark:text-white mb-4">
                    å±±ä¸œç§‘æŠ€åˆ›æ–°çŸ¥è¯†é—®ç­”
                </h2>
                <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
                    æµ‹è¯•ä½ å¯¹å±±ä¸œç§‘æŠ€åˆ›æ–°æˆå°±çš„äº†è§£ï¼Œåœ¨äº’åŠ¨ä¸­å­¦ä¹ æ–°çŸ¥
                </p>
            </div>
            <div class="quiz-container p-8 shadow-2xl">
                <div id="quizGame">
                    <div id="quizLoading" class="text-center text-gray-600 dark:text-gray-400 py-12">
                        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mb-4"></div>
                        <div>æ­£åœ¨åŠ è½½é¢˜åº“...</div>
                    </div>
                    <div id="quizContent" class="hidden">
                        <div class="mb-8">
                            <div class="flex justify-between items-center mb-3">
                                <span class="text-sm font-medium text-gray-600 dark:text-gray-400">ç­”é¢˜è¿›åº¦</span>
                                <span id="questionCounter" class="text-sm font-medium text-purple-600 dark:text-purple-400"></span>
                            </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden">
                                <div id="progressBar" class="bg-purple-600 h-3 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
                            </div>
                        </div>
                        <div id="questionContainer" class="mb-8">
                            <h3 id="questionText" class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-8 leading-relaxed"></h3>
                            <div id="optionsContainer" class="space-y-4"></div>
                        </div>
                        <div id="quizResult" class="hidden text-center">
                            <div class="mb-8">
                                <div class="w-40 h-40 mx-auto mb-8 relative">
                                    <svg class="progress-ring w-40 h-40" viewBox="0 0 120 120">
                                        <circle cx="60" cy="60" r="54" stroke="#e5e7eb" stroke-width="6" fill="transparent" class="dark:stroke-gray-600" />
                                        <circle id="scoreCircle" cx="60" cy="60" r="54" stroke="#9333ea" stroke-width="6" fill="transparent" class="progress-ring-circle" />
                                    </svg>
                                    <div class="absolute inset-0 flex items-center justify-center"><span id="finalScore" class="text-4xl font-bold text-purple-600"></span></div>
                                </div>
                            </div>
                            <h3 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">ğŸ‰ ç­”é¢˜å®Œæˆï¼</h3>
                            <p id="scoreMessage" class="text-xl text-gray-600 dark:text-gray-400 mb-8"></p>
                            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                                <button onclick="restartQuiz()" class="px-8 py-4 bg-purple-600 text-white rounded-full font-semibold hover:bg-purple-700 transition-all transform hover:scale-105 shadow-lg">ğŸ”„ é‡æ–°å¼€å§‹</button>
                                <button onclick="showSection('map')" class="px-8 py-4 border-2 border-purple-600 text-purple-600 dark:text-purple-400 rounded-full font-semibold hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all transform hover:scale-105">ğŸ“š å›é¡¾æ¡ˆä¾‹</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- æ•°æ®å±•ç¤º (æ•°æ®æ´å¯Ÿ) -->
    <div id="stats" class="section hidden pt-24 min-h-screen bg-gray-50 dark:bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
            <div class="text-center mb-20">
                <h2 class="text-5xl font-bold text-gray-900 dark:text-white mb-4">åˆ›æ–°å‘å±•æ•°æ®æ´å¯Ÿ</h2>
                <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">ä»¥æ•°æ®è§è¯ç§‘æŠ€åˆ›æ–°ä¸ºå±±ä¸œé«˜è´¨é‡å‘å±•æ³¨å…¥çš„å¼ºåŠ²åŠ¨èƒ½</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16">
                <div class="stat-card rounded-2xl p-8 text-center">
                    <div class="w-16 h-16 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg></div>
                    <h3 class="text-lg font-semibold text-gray-500 dark:text-gray-400 mb-2">2024å¹´ç”Ÿäº§æ€»å€¼</h3>
                    <div class="text-4xl font-bold text-blue-600 dark:text-blue-400"><span class="counter" data-target="9.86">0</span> <span class="text-2xl">ä¸‡äº¿å…ƒ</span></div>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">å…¨å›½ç¬¬ä¸‰</p>
                </div>
                <div class="stat-card rounded-2xl p-8 text-center">
                    <div class="w-16 h-16 bg-emerald-500 rounded-xl flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div>
                    <h3 class="text-lg font-semibold text-gray-500 dark:text-gray-400 mb-2">2024å¹´é«˜æ–°æŠ€æœ¯ä¼ä¸š</h3>
                    <div class="text-4xl font-bold text-emerald-600 dark:text-emerald-400"><span class="counter" data-target="32000">0</span> <span class="text-2xl">å®¶</span></div>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">åˆ›æ–°åŠ¨èƒ½å¼ºåŠ²</p>
                </div>
                <div class="stat-card rounded-2xl p-8 text-center">
                    <div class="w-16 h-16 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div>
                    <h3 class="text-lg font-semibold text-gray-500 dark:text-gray-400 mb-2">2024å¹´æŠ€æœ¯åˆåŒæˆäº¤é¢</h3>
                    <div class="text-4xl font-bold text-purple-600 dark:text-purple-400"><span class="counter" data-target="2500">0</span> <span class="text-2xl">äº¿å…ƒ</span></div>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">æˆæœè½¬åŒ–åŠ é€Ÿ</p>
                </div>
                <div class="stat-card rounded-2xl p-8 text-center">
                    <div class="w-16 h-16 bg-orange-500 rounded-xl flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg></div>
                    <h3 class="text-lg font-semibold text-gray-500 dark:text-gray-400 mb-2">2024å¹´è§„ä¸Šå·¥ä¸šå¢åŠ å€¼</h3>
                    <div class="text-4xl font-bold text-orange-600 dark:text-orange-400">+<span class="counter" data-target="7.5">0</span><span class="text-2xl">%</span></div>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">é«˜äºå…¨å›½å¹³å‡</p>
                </div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="stat-card rounded-2xl p-8"><h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center"><div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg></div>å±±ä¸œçœè¿‘å¹´GDPå¢é•¿è¶‹åŠ¿</h3><div class="relative h-80"><canvas id="gdpChart"></canvas></div></div>
                <div class="stat-card rounded-2xl p-8"><h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center"><div class="w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center mr-3"><svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div>2024å¹´å±±ä¸œä¸‰å¤§äº§ä¸šç»“æ„</h3><div class="relative h-80 flex items-center justify-center"><canvas id="industryChart"></canvas></div></div>
            </div>
        </div>
    </div>

    <!-- åŸå¸‚è¯¦æƒ…æ¨¡æ€æ¡† -->
    <div id="cityModal" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[85vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-gray-700">
            <div class="p-8">
                <div class="flex justify-between items-start mb-8">
                    <div><h3 id="cityModalTitle" class="text-3xl font-bold text-gray-900 dark:text-white mb-2"></h3><div class="w-16 h-1 bg-blue-500 rounded-full"></div></div>
                    <button onclick="closeCityModal()" class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>
                </div>
                <div id="cityModalContent" class="text-gray-600 dark:text-gray-400 space-y-6 leading-relaxed"></div>
            </div>
        </div>
    </div>

    <script>
        // --- å…¨å±€å˜é‡å’Œé€šç”¨å‡½æ•° ---
        let activeCharts = {};
        let citySwiperInstance = null;
        let currentQuestionIndex = 0;
        let score = 0;
        let questions = [];
        let currentQuizQuestions = [];

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });

            const currentSection = document.getElementById(sectionId);
            if (currentSection) {
                currentSection.classList.remove('hidden');

                gsap.fromTo(currentSection, { opacity: 0, y: 20 }, { opacity: 1, y: 0, duration: 0.6, ease: "power2.out" });

                if (sectionId === 'stats') { setTimeout(() => { startCounterAnimation(); initCharts(); }, 300); } 
                else if (sectionId === 'map') { setTimeout(initCityGallery, 100); }
                else if (sectionId === 'quiz' && questions.length === 0) { loadQuiz(); } // åªæœ‰åœ¨é¦–æ¬¡ç‚¹å‡»æ—¶åŠ è½½
            }
        }

        function toggleMobileMenu() { document.getElementById('mobileMenu').classList.toggle('hidden'); }
        function closeCityModal() {
            const modal = document.getElementById('cityModal');
            gsap.to(modal.querySelector('div'), { scale: 0.8, opacity: 0, duration: 0.3, ease: "power2.in", onComplete: () => { modal.classList.add('hidden'); } });
        }
        function getCityDetailData(cityName, type) { /* ... */ return { title: type, content: `<p>æ­£åœ¨æ•´ç†${cityName}åœ¨ç§‘æŠ€åˆ›æ–°é¢†åŸŸçš„${type}ç›¸å…³èµ„æ–™ï¼Œæ•¬è¯·æœŸå¾…...</p>` }; }

        // --- åŸå¸‚ç”»å»Šæ¨¡å— (ç§‘æŠ€åˆ›æ–°ä¸»é¢˜) ---
        const cityGalleryData = [
            { name: 'æµå—å¸‚', slogan: 'é‡å­ä¹‹å…‰Â·è¶…ç®—ä¹‹åŸ', image: 'https://imagepphcloud.thepaper.cn/pph/image/222/493/893.jpg', description: 'ä½œä¸ºçœä¼šï¼Œæµå—é›†èšå›½å®¶è¶…çº§è®¡ç®—ä¸­å¿ƒã€é‡å­æŠ€æœ¯ç ”ç©¶é™¢ç­‰å›½ä¹‹é‡å™¨ï¼Œå¼•é¢†å‰æ²¿ç§‘æŠ€çªç ´ï¼Œæ˜¯å±±ä¸œç§‘åˆ›å¤§è„‘ã€‚'},
            { name: 'é’å²›å¸‚', slogan: 'å·¥ä¸šäº’è”Â·æµ·æ´‹ç¡…è°·', image: 'https://cdn.pixabay.com/photo/2016/08/05/03/25/qingdao-1571518_1280.jpg', description: 'ä»¥æµ·å°”å¡å¥¥æ–¯å¹³å°æ‰“é€ â€œä¸–ç•Œå·¥ä¸šäº’è”ç½‘ä¹‹éƒ½â€ï¼Œä»¥æµ·æ´‹è¯•ç‚¹å›½å®¶å®éªŒå®¤ä¸ºæ ¸å¿ƒï¼Œå¼•é¢†æµ·æ´‹ç§‘æŠ€å‘å±•ï¼Œæ˜¯äº§ä¸šæ•°å­—åŒ–å…ˆé”‹ã€‚'},
            { name: 'æ·„åšå¸‚', slogan: 'æ–°æåéƒ½Â·æ°¢èƒ½é«˜åœ°', image: 'https://pic.vjshi.com/2022-11-16/34d62cd376834bdda0cffd58007794ad/00001.jpg?x-oss-process=style/watermark', description: 'è€å·¥ä¸šåŸå¸‚æˆåŠŸè½¬å‹ï¼Œèšç„¦æ°Ÿç¡…æ–°ææ–™ã€å…ˆè¿›é™¶ç“·ç­‰é¢†åŸŸï¼Œå¹¶ç§¯æå¸ƒå±€æ°¢èƒ½äº§ä¸šé“¾ï¼Œæ‰“é€ â€œä¸­å›½è†œè°·â€ï¼Œæ˜¯ææ–™åˆ›æ–°é‡é•‡ã€‚' },
            { name: 'æ£åº„å¸‚', slogan: 'åŒ—æ–¹é”‚éƒ½Â·èƒ½æºé©æ–°', image: 'https://img1.qunarzz.com/travel/d7/1604/46/d745b6a5035de1f7.jpg', description: 'ä»â€œç…¤åŸâ€åˆ°â€œé”‚éƒ½â€ï¼Œæ£åº„æ„å»ºäº†å®Œæ•´çš„é”‚ç”µæ–°èƒ½æºäº§ä¸šé“¾ï¼Œä¸ºèµ„æºæ¯ç«­å‹åŸå¸‚ç§‘æŠ€è½¬å‹æä¾›äº†â€œæ£åº„æ–¹æ¡ˆâ€ã€‚'},
            { name: 'ä¸œè¥å¸‚', slogan: 'æ²¹ç”°ä¹‹ä¸ŠÂ·è£…å¤‡ä¹‹èŠ¯', image: 'https://img12.iqilu.com/10339/sucaiku/compress/202305/06/10d47b385ee944a0938bfddd96adae16.png', description: 'ä¾æ‰˜èƒœåˆ©æ²¹ç”°ï¼Œå‘å±•æˆä¸ºå…¨å›½æœ€å¤§çš„çŸ³æ²¹è£…å¤‡ç ”å‘åˆ¶é€ åŸºåœ°ï¼Œå¹¶åœ¨ç›ç¢±åœ°ç»¼åˆåˆ©ç”¨ã€ç°ä»£é«˜æ•ˆå†œä¸šä¸­å±•ç°ç§‘æŠ€åŠ›é‡ã€‚'},
            { name: 'çƒŸå°å¸‚', slogan: 'è“è¯ç¡…è°·Â·æµ·å·¥é‡å™¨', image: 'https://static.vrqjcs.com/web/work/2021/20210412102915282280.jpg', description: 'é›†èšä¸‡ååŒ–å­¦ã€è£æ˜Œç”Ÿç‰©ç­‰åˆ›æ–°é¾™å¤´ï¼Œæ‰“é€ ä¸–ç•Œçº§ç»¿è‰²çŸ³åŒ–å’Œç”Ÿç‰©åŒ»è¯äº§ä¸šé›†ç¾¤ã€‚ä¸œæ–¹èˆªå¤©æ¸¯å¼€å¯å•†ä¸šèˆªå¤©æ–°çºªå…ƒã€‚'},
            { name: 'æ½åŠå¸‚', slogan: 'åŠ¨åŠ›ä¹‹åŸÂ·VRä¹‹å…‰', image: 'https://static.vrqjcs.com/web/work/2021/20210624143351016668.jpg', description: 'æ½æŸ´åŠ¨åŠ›å¼•é¢†é«˜ç«¯è£…å¤‡åˆ¶é€ ï¼Œæ­Œå°”å£°å­¦æ‰“é€ å…¨çƒVRäº§ä¸šé«˜åœ°ã€‚å›½å®¶å†œä¸šå¼€æ”¾å‘å±•ç»¼åˆè¯•éªŒåŒºå±•ç°æ™ºæ…§å†œä¸šåˆ›æ–°ã€‚'},
            { name: 'æµå®å¸‚', slogan: 'æ™ºé€ é«˜åœ°Â·ä¿¡æ¯æ¸¯æ¹¾', image: 'https://cdn.pixabay.com/photo/2015/05/21/16/51/shandong-777460_1280.jpg', description: 'ä»¥å±±æ¨è‚¡ä»½ä¸ºä»£è¡¨çš„å·¥ç¨‹æœºæ¢°äº§ä¸šæ™ºèƒ½åŒ–å‡çº§ï¼Œåä¸ºå¤§æ•°æ®ä¸­å¿ƒè½æˆ·ï¼Œæ­£ä»â€œå­”å­Ÿä¹‹ä¹¡â€å‘â€œæ™ºé€ ä¹‹åŸâ€è¿ˆè¿›ã€‚'},
            { name: 'æ³°å®‰å¸‚', slogan: 'ç‰¹ç”µä¹‹éƒ½Â·ä¼ æ„Ÿä¸–ç•Œ', image: 'https://pic.2amok.com/20200608/18f5dad122f5b74d019c447c4879b3a3_00003.jpg', description: 'å…¨å›½é‡è¦çš„ç‰¹é«˜å‹è¾“å˜ç”µè£…å¤‡å’Œæ™ºèƒ½ä¼ æ„Ÿå™¨ç”Ÿäº§åŸºåœ°ï¼Œåœ¨â€œåŒç¢³â€ç›®æ ‡ä¸‹æ¨åŠ¨èƒ½æºæŠ€æœ¯å’Œæ–°å‹å»ºæåˆ›æ–°ã€‚'},
            { name: 'å¨æµ·å¸‚', slogan: 'åŒ»æ¢°ç¡…è°·Â·æ‰“å°ç‹å›½', image: 'https://ts1.tc.mm.bing.net/th/id/R-C.320fe39e55717dd8b5b9a73f43541482?rik=m6R5JFO0WM7G5A&riu=http%3a%2f%2finvestweihai.cn%2fprofile%2fpicture%2ff7f211b7b907d0267a772964e056be32.jpg%3bjsessionid%3d080077F908CB493FD4E2D9D91117C433&ehk=t7l6wyjyUzK9vYS8jSLXdeW4qp8kT06ZKkHSZ3KHZ8w%3d&risl=&pid=ImgRaw&r=0', description: 'å…¨çƒæœ€å¤§çš„æ‰“å°æœºç”Ÿäº§åŸºåœ°å’Œå…¨å›½é¢†å…ˆçš„åŒ»ç–—å™¨æ¢°äº§ä¸šé›†ç¾¤ï¼Œåœ¨ç¢³çº¤ç»´ã€ç”µå­ä¿¡æ¯ç­‰é«˜æŠ€æœ¯é¢†åŸŸæŒç»­å‘åŠ›ã€‚'},
            { name: 'æ—¥ç…§å¸‚', slogan: 'é’¢é“æ™ºé€ Â·æ±½è½¦æ–°åŸ', image: 'https://ts1.tc.mm.bing.net/th/id/R-C.0ab6f3acc7a70a398dcaf7122d3e2c7e?rik=nn1B6MBfkxmtVQ&riu=http%3a%2f%2fimg.pconline.com.cn%2fimages%2fupload%2fupc%2ftx%2fphotoblog%2f1109%2f23%2fc0%2f9052256_9052256_1316735392718.jpg&ehk=9wXa21iOabbdjyq%2frL2e332hH%2f9uDNXXzRFLfrbkG5Y%3d&risl=&pid=ImgRaw&r=0', description: 'ä¾æ‰˜ä¸–ç•Œçº§æ·±æ°´è‰¯æ¸¯ï¼Œå»ºè®¾å…ˆè¿›é’¢é“ç²¾å“åŸºåœ°å’Œæ±½è½¦æ•´è½¦åŠé›¶éƒ¨ä»¶äº§ä¸šé›†ç¾¤ï¼Œæ˜¯â€œæ¸¯äº§åŸâ€èåˆåˆ›æ–°çš„å…¸èŒƒã€‚'},
            { name: 'ä¸´æ²‚å¸‚', slogan: 'ç‰©æµå¤§è„‘Â·æ™ºè”å…¨çƒ', image: 'https://img.zcool.cn/community/0191655dc9167ea8012163bab35799.jpg', description: 'ä»¥ç§‘æŠ€åˆ›æ–°é©±åŠ¨â€œç‰©æµä¹‹éƒ½â€è½¬å‹å‡çº§ï¼Œå‘å±•æ™ºæ…§ç‰©æµã€ä¾›åº”é“¾é‡‘èï¼Œå¹¶ä»¥ä¸´å·¥é›†å›¢ä¸ºé¾™å¤´æ¨åŠ¨å·¥ç¨‹æœºæ¢°æ™ºèƒ½åŒ–ã€‚'},
            { name: 'å¾·å·å¸‚', slogan: 'ä¸­å›½é£Ÿè°·Â·ç”Ÿç‰©ä¹‹èŠ¯', image: 'https://ts1.tc.mm.bing.net/th/id/R-C.e73da2e75c6f8fb0b0d7822d0228b85c?rik=A5vaVOxMwvl23w&riu=http%3a%2f%2fn.sinaimg.cn%2fsinakd10122%2f56%2fw2000h1256%2f20200610%2f572c-iuvaazp0138823.jpg&ehk=DCgrtxOMMbew%2fPtvRiGyflsFxIkD9RPaPbapbdQ%2frHI%3d&risl=&pid=ImgRaw&r=0', description: 'æ‰“é€ â€œä¸­å›½é£Ÿå“åå¸‚â€ï¼Œåœ¨ç”Ÿç‰©æŠ€æœ¯ã€åŠŸèƒ½ç³–ã€æ°¨åŸºé…¸ç­‰é¢†åŸŸå…¨çƒé¢†å…ˆï¼Œæ˜¯â€œäº¬æ´¥å†€â€äº§ä¸šååŒåˆ›æ–°çš„é‡è¦èŠ‚ç‚¹ã€‚'},
            { name: 'èŠåŸå¸‚', slogan: 'æœ‰è‰²é‡‘å±Â·ç»¿è‰²åŒ–å·¥', image: 'https://pic4.zhimg.com/v2-1c9fa0ffdf6b6372034131932572e69e_r.jpg', description: 'ä»¥ä¿¡å‘ã€é²è¥¿åŒ–å·¥ä¸ºé¾™å¤´ï¼Œæ¨åŠ¨æœ‰è‰²é‡‘å±æ–°ææ–™å’Œé«˜ç«¯åŒ–å·¥äº§ä¸šçš„ç»¿è‰²åŒ–ã€æ™ºèƒ½åŒ–è½¬å‹ï¼Œå±•ç°ä¼ ç»Ÿäº§ä¸šçš„åˆ›æ–°æ´»åŠ›ã€‚'},
            { name: 'æ»¨å·å¸‚', slogan: 'ä¸–ç•Œé“è°·Â·äº§æ•™ä¹‹åŸ', image: 'https://p1.ssl.qhimg.com/t01df1339ccde901974.jpg', description: 'å»ºè®¾ä¸–ç•Œé«˜ç«¯é“ä¸šåŸºåœ°ï¼Œå¹¶ä»¥å›½å®¶äº§æ•™èåˆè¯•ç‚¹åŸå¸‚ä¸ºå¥‘æœºï¼Œæ¢ç´¢â€œä¼ä¸šå‡ºé¢˜ã€é«˜æ ¡è§£é¢˜â€çš„ååŒåˆ›æ–°æ¨¡å¼ã€‚'},
            { name: 'èæ³½å¸‚', slogan: 'åŒ—æ–¹è¯è°·Â·ç‰¡ä¸¹èŠ¯ç§‘æŠ€', image: 'https://boot-img.xuexi.cn/contribute_img/20190218165249/5078568957238911.jpg', description: 'æ‰“é€ â€œä¸­å›½åŒ—æ–¹åŒ»è¯åŸâ€ï¼Œåœ¨ç”Ÿç‰©åŒ»è¯ã€ç‰¡ä¸¹æ·±åŠ å·¥ï¼ˆå¦‚ç‰¡ä¸¹ç±½æ²¹ï¼‰ç­‰é¢†åŸŸå±•ç°ç§‘æŠ€å®åŠ›ï¼Œæ˜¯â€œåæ¥å±…ä¸Šâ€çš„åˆ›æ–°å…¸èŒƒã€‚'}
        ];

        function initCityGallery() {
            const wrapper = document.querySelector('.city-swiper .swiper-wrapper');
            if (!wrapper) return;
            if (citySwiperInstance) { citySwiperInstance.destroy(true, true); citySwiperInstance = null; }
            wrapper.innerHTML = cityGalleryData.map(city => `<div class="swiper-slide" style="background-image:url('${city.image}')"><div class="relative z-20 text-white p-8 max-w-4xl mx-auto slide-content"><div class="bg-black/40 backdrop-blur-md rounded-2xl p-8 border border-white/20"><h3 class="text-4xl md:text-6xl font-bold mb-3">${city.name}</h3><p class="text-2xl md:text-3xl mb-6 opacity-90 font-medium">${city.slogan}</p><p class="text-lg md:text-xl leading-relaxed opacity-95 mb-6">${city.description}</p><div class="flex flex-wrap gap-3"><button onclick="alert('æ­£åœ¨å¼€å‘${city.name}çš„è¯¦ç»†ç§‘æŠ€æ¡ˆä¾‹...')" class="city-detail-btn px-4 py-2 rounded-full text-sm font-medium flex items-center space-x-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>æŸ¥çœ‹è¯¦æƒ…</span></button></div></div></div></div>`).join('');
            citySwiperInstance = new Swiper('.city-swiper', { loop: true, effect: 'fade', fadeEffect: { crossFade: true }, autoplay: { delay: 4000, disableOnInteraction: false, pauseOnMouseEnter: true }, pagination: { el: '.swiper-pagination', clickable: true, dynamicBullets: true }, navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' }, keyboard: { enabled: true }, });
        }

        // --- çŸ¥è¯†é—®ç­”æ¨¡å— ---
        function loadQuiz() {
            try {
                const quizJson = document.getElementById('quizData').textContent;
                questions = JSON.parse(quizJson);

                if (questions.length === 0) {
                    // å¦‚æœé¢˜åº“ä¸ºç©ºï¼Œæ˜¾ç¤ºæç¤ºä¿¡æ¯
                    document.getElementById('quizLoading').innerHTML = `
                        <div class="text-center text-gray-600 dark:text-gray-400 py-12">
                            <svg class="w-12 h-12 mx-auto mb-4 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                            <p class="text-lg mt-2">ç§‘æŠ€ä¸»é¢˜é¢˜åº“æ­£åœ¨ç«é€Ÿå»ºè®¾ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼</p>
                        </div>
                    `;
                    return;
                }

                document.getElementById('quizLoading').classList.add('hidden');
                document.getElementById('quizContent').classList.remove('hidden');
                restartQuiz();
            } catch (error) {
                console.error('Quiz loading error:', error);
                document.getElementById('quizLoading').innerHTML = `<div class="text-red-500">é¢˜åº“åŠ è½½å¤±è´¥ï¼</div>`;
            }
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            const shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
            const numQuestionsToTake = Math.min(5, shuffledQuestions.length); // æœ€å¤šå–5é“é¢˜æˆ–å…¨éƒ¨é¢˜ç›®
            currentQuizQuestions = shuffledQuestions.slice(0, numQuestionsToTake);
            document.getElementById('questionContainer').classList.remove('hidden');
            document.getElementById('quizResult').classList.add('hidden');
            showNextQuestion();
        }

        function showNextQuestion() {
            if (currentQuestionIndex >= currentQuizQuestions.length) { showQuizResult(); return; }
            const question = currentQuizQuestions[currentQuestionIndex];
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('questionCounter').textContent = `ç¬¬ ${currentQuestionIndex + 1} é¢˜ / å…± ${currentQuizQuestions.length} é¢˜`;
            document.getElementById('progressBar').style.width = `${((currentQuestionIndex + 1) / currentQuizQuestions.length) * 100}%`;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-option w-full p-6 text-left border-2 border-gray-200 dark:border-gray-700 rounded-xl hover:border-purple-300 dark:hover:border-purple-600 transition-all text-lg';
                button.innerHTML = `<div class="flex items-center space-x-4"><div class="w-8 h-8 rounded-full border-2 border-gray-300 dark:border-gray-600 flex items-center justify-center font-bold text-gray-500 dark:text-gray-400">${String.fromCharCode(65 + index)}</div><span>${option}</span></div>`;
                button.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(button);
            });
            gsap.fromTo('#questionContainer', { x: 50, opacity: 0 }, { x: 0, opacity: 1, duration: 0.5, ease: "power2.out" });
        }

        function selectAnswer(selectedIndex) {
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(option => { option.disabled = true; option.style.pointerEvents = 'none'; });
            const correctIndex = currentQuizQuestions[currentQuestionIndex].correct;
            if (selectedIndex === correctIndex) {
                score++;
                options[selectedIndex].classList.add('border-green-500', 'bg-green-50', 'dark:bg-green-900/50');
                options[selectedIndex].querySelector('div > div').classList.add('bg-green-500', 'text-white', 'border-green-500');
                gsap.to(options[selectedIndex], { scale: 1.02, duration: 0.3, yoyo: true, repeat: 1 });
            } else {
                options[selectedIndex].classList.add('border-red-500', 'bg-red-50', 'dark:bg-red-900/50');
                options[selectedIndex].querySelector('div > div').classList.add('bg-red-500', 'text-white', 'border-red-500');
                options[correctIndex].classList.add('border-green-500', 'bg-green-50', 'dark:bg-green-900/50');
                options[correctIndex].querySelector('div > div').classList.add('bg-green-500', 'text-white', 'border-green-500');
                gsap.to(options[selectedIndex], { x: [-10, 10, -10, 10, 0], duration: 0.5 });
            }
            setTimeout(() => { currentQuestionIndex++; showNextQuestion(); }, 2000);
        }

        function showQuizResult() {
            document.getElementById('questionContainer').classList.add('hidden');
            document.getElementById('quizResult').classList.remove('hidden');
            const percentage = Math.round((score / currentQuizQuestions.length) * 100);
            document.getElementById('finalScore').textContent = `${percentage}%`;
            let message = '';
            if (percentage === 100) { message = "å®Œç¾æ»¡åˆ†ï¼ä½ æ˜¯å±±ä¸œç§‘æŠ€åˆ›æ–°ä¸“å®¶ï¼"; }
            else if (percentage >= 80) { message = "è¡¨ç°ä¼˜ç§€ï¼ä½ å¯¹å±±ä¸œç§‘åˆ›æœ‰æ·±å…¥äº†è§£ï¼"; }
            else if (percentage >= 60) { message = "æˆç»©è‰¯å¥½ï¼ç»§ç»­å­¦ä¹ å±±ä¸œçš„å‘å±•æˆå°±ï¼"; }
            else { message = "ç»§ç»­åŠ æ²¹ï¼å±±ä¸œæœ‰å¾ˆå¤šå€¼å¾—æ¢ç´¢çš„ç²¾å½©å†…å®¹ï¼"; }
            document.getElementById('scoreMessage').textContent = message;
            const circle = document.getElementById('scoreCircle');
            const circumference = 2 * Math.PI * 54;
            circle.style.strokeDasharray = circumference;
            circle.style.strokeDashoffset = circumference;
            setTimeout(() => { gsap.to(circle, { strokeDashoffset: circumference - (percentage / 100) * circumference, duration: 2, ease: "power2.out" }); }, 500);
            gsap.fromTo('#quizResult', { scale: 0.8, opacity: 0 }, { scale: 1, opacity: 1, duration: 0.6, ease: "back.out(1.7)" });
        }

        // --- æ•°æ®å±•ç¤ºæ¨¡å— ---
        function startCounterAnimation() {
            const counters = document.querySelectorAll('.counter');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) {
                    const counter = entry.target; const target = +counter.getAttribute('data-target');
                    gsap.fromTo(counter, { innerText: 0 }, { duration: 2.5, innerText: target, roundProps: "innerText", ease: "power2.out", onUpdate: function () { const current = parseFloat(counter.innerText); counter.textContent = current.toFixed(current % 1 === 0 ? 0 : 2); } });
                    observer.unobserve(counter);
                } });
            });
            counters.forEach(counter => observer.observe(counter));
        }

        function initCharts() {
            const isDarkMode = document.documentElement.classList.contains('dark');
            const gridColor = isDarkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)';
            const labelColor = isDarkMode ? '#cbd5e1' : '#4b5563';
            Object.values(activeCharts).forEach(chart => chart.destroy()); activeCharts = {};
            const gdpCtx = document.getElementById('gdpChart');
            if (gdpCtx) { activeCharts.gdp = new Chart(gdpCtx.getContext('2d'), { type: 'line', data: { labels: ['2020', '2021', '2022', '2023', '2024'], datasets: [{ label: 'GDP(ä¸‡äº¿å…ƒ)', data: [7.31, 8.31, 8.74, 9.21, 9.86], borderColor: '#3b82f6', backgroundColor: 'rgba(59, 130, 246, 0.1)', fill: true, tension: 0.4, pointBackgroundColor: '#3b82f6', pointBorderColor: '#ffffff', pointBorderWidth: 3, pointRadius: 6, pointHoverRadius: 8 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: false, min: 6, grid: { color: gridColor }, ticks: { color: labelColor, callback: value => value + 'ä¸‡äº¿' } }, x: { grid: { color: gridColor }, ticks: { color: labelColor } } } } }); }
            const industryCtx = document.getElementById('industryChart');
            if (industryCtx) { activeCharts.industry = new Chart(industryCtx.getContext('2d'), { type: 'doughnut', data: { labels: ['ç¬¬ä¸€äº§ä¸š', 'ç¬¬äºŒäº§ä¸š', 'ç¬¬ä¸‰äº§ä¸š'], datasets: [{ data: [7.2, 39.1, 53.7], backgroundColor: ['rgba(34, 197, 94, 0.8)', 'rgba(59, 130, 246, 0.8)', 'rgba(245, 158, 11, 0.8)'], borderColor: ['#22c55e', '#3b82f6', '#f59e0b'], borderWidth: 2, hoverOffset: 10 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { color: labelColor, padding: 20, usePointStyle: true, font: { size: 14 } } }, tooltip: { callbacks: { label: context => context.label + ': ' + context.parsed + '%' } } }, cutout: '60%' } }); }
        }

        // --- é¡µé¢åˆå§‹åŒ– ---
        document.addEventListener('DOMContentLoaded', function () {
            gsap.timeline().from('nav', { duration: 1, y: -100, opacity: 0, ease: "power2.out" }).from('#home h1', { duration: 1.5, y: 100, opacity: 0, ease: "power2.out" }, "-=0.5").from('#home p', { duration: 1, y: 50, opacity: 0, ease: "power2.out" }, "-=0.8");
            initCityGallery();
            loadQuiz(); // é¡µé¢åŠ è½½æ—¶å°±å°è¯•åŠ è½½é¢˜åº“
            const darkModeObserver = new MutationObserver(() => { if (Object.keys(activeCharts).length > 0) { setTimeout(initCharts, 100); } });
            darkModeObserver.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });
        });
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { closeCityModal(); } });
        document.getElementById('cityModal').addEventListener('click', (e) => { if (e.target === e.currentTarget) { closeCityModal(); } });
    </script>
</body>

</html>